<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="estilo.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chamando a biblioteca -->

</head>

<body>
    <div class="fundo">
        <div class="head">
            <div class="parteCima">
                <p>ELBI</p>
                <span> POR QUE?</span>
            </div>
            <div class="parteBaixo">
                <button onclick="nao_foram()" id="ipt_n_foram">NÃO FORAM</button>
                <button onclick="foram()" id="ipt_foram">FORAM</button>
            </div>
            <div class="sair">
                <p>SAIR</p>
            </div>
        </div>
        <div id="inicial" class="dash" style="display: flex;">
            <div class="mensagem">
                <span>SEGUNDO NOSSO INDICADORES, APENAS 3 PESSOAS A CADA 10 JÁ ASSISTIRAM A UMA PEÇA DE TEATRO</span>
            </div>
            <div class="conteudo">
                <div class="grafico">
                    <div class="linha">
                        <canvas id="myChart"></canvas> <!-- Adicionando quadro para pintar o gráfico -->
                    </div>
                </div>
                <div class="kpis">
                    <div class="kpi1">
                        <p>1 - SP</p>
                    </div>
                    <div class="kpi2">
                        <p>9 - TO</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="div_ja_foi" style="display: none;" class="dash">
            <div class="mensagem">
                <span>AS PESSOAS QUE FORAM TEM ESSAS PREFERÊNCIAS:</span>
            </div>
            <div class="conteudo">
                <div class="grafico">
                    <div class="linha">
                        <canvas id="ja"></canvas> <!-- Adicionando quadro para pintar o gráfico -->
                    </div>
                </div>
                <div class="kpis">
                    <div class="kpi1">
                        <p style="font-size: 26px;">1 - ROMANCE</p>
                    </div>
                    <div class="kpi2">
                        <p style="font-size: 26px;">9 - COMÉDIA</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="div_nao_foi" style="display: none;" class="dash">
            <div class="mensagem">
                <span>AS PESSOAS QUE NÃO FORAM, JUSTIFICARAM DA SEGUINTE FORMA:</span>
            </div>
            <div class="conteudo">
                <div class="grafico">
                    <div class="linha">
                        <canvas id="ja_nao"></canvas> <!-- Adicionando quadro para pintar o gráfico -->
                    </div>
                </div>
                <div class="kpis">
                    <div class="kpi1">
                        <p>1 - SP</p>
                    </div>
                    <div class="kpi2">
                        <p>9 - TO</p>
                    </div>
                </div>
            </div>
        </div>


    </div>
</body>

</html>


<script>
    const labels = [
        '0 até 7',
        '7 até 14',
        '14 até 21',
        '21 até 28',
        '28 até 35',
        'Mais',
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: 'Foram ao Teatro',
            backgroundColor: 'rgb(132, 97, 236)',
            borderColor: 'rgb(132, 97, 236)',
            data: [28, 30, 36, 33, 23, 40],
        }
        ]
    };

    const config = {
        type: 'line',
        data: data,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Primeira vez ao Teatro por Faixa Etária',
                    color: 'white',  // Cor do título
                    font: {
                        size: 18,
                        // weight: 'bold',
                    },
                    padding: { top: 20, bottom: 20 }
                },
                legend: {
                    labels: {
                        color: 'white',  // Cor do texto da legenda
                        font: {
                            size: 14
                        }
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo X
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo X
                    }
                },
                y: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo Y
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo Y
                    }
                }
            }
        }
    };

    const myChart = new Chart(
        document.getElementById('myChart'),
        config
    );

    function foram() {

        var dash = document.getElementById('div_ja_foi'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)
        var dash1 = document.getElementById('inicial'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)
        var dash2 = document.getElementById('div_nao_foi'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)

            dash.style.display = 'flex'; // tornando a div visível 
            dash2.style.display = 'none';
            inicial.style.display = 'none';

    const labels = [
        'Romance',
        'Trágedia',
        'Stand-up',
        'Fantoche',
        'Drama',
        'Musical',
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: 'Gênero preferido',
            backgroundColor: 'rgb(132, 97, 236)',
            borderColor: 'rgb(132, 97, 236)',
            data: [28, 30, 36, 33, 23, 40],
        }
        ]
    };

    const config2 = {
        type: 'line',
        data: data,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Teste do já foi',
                    color: 'white',  // Cor do título
                    font: {
                        size: 18,
                        // weight: 'bold',
                    },
                    padding: { top: 20, bottom: 20 }
                },
                legend: {
                    labels: {
                        color: 'white',  // Cor do texto da legenda
                        font: {
                            size: 14
                        }
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo X
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo X
                    }
                },
                y: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo Y
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo Y
                    }
                }
            }
        }
    };
        

        buildChart("ja", config2);


    }

    function nao_foram() {

        var dash = document.getElementById('div_ja_foi'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)
        var dash1 = document.getElementById('inicial'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)
        var dash2 = document.getElementById('div_nao_foi'); // dessa forma referenciamos uma classe chamada 'dash', o [0] garante que seja o primeiro elemento com esse nome (indice 0)

        dash2.style.display = 'flex'; // tornando a div visível 
        dash.style.display = 'none';
        inicial.style.display = 'none';

        const labels = [
        '0 até 7',
        '7 até 14',
        '14 até 21',
        '21 até 28',
        '28 até 35',
        'Mais',
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: 'Foram ao Teatro',
            backgroundColor: 'rgb(132, 97, 236)',
            borderColor: 'rgb(132, 97, 236)',
            data: [28, 30, 36, 33, 23, 40],
        }
        ]
    };

    const config3 = {
        type: 'line',
        data: data,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Teste não foram',
                    color: 'white',  // Cor do título
                    font: {
                        size: 18,
                        // weight: 'bold',
                    },
                    padding: { top: 20, bottom: 20 }
                },
                legend: {
                    labels: {
                        color: 'white',  // Cor do texto da legenda
                        font: {
                            size: 14
                        }
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo X
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo X
                    }
                },
                y: {
                    ticks: {
                        color: 'white',  // Cor dos números no eixo Y
                    },
                    grid: {
                        color: 'white', // Cor das linhas de grade no eixo Y
                    }
                }
            }
        }
    };

        buildChart("ja_nao", config3);
    }

    function buildChart(id, config){
        const myChart = new Chart(
            document.getElementById(id),
            config
        );
    }

    buildChart("myChart");

</script>

    <!-- // function obterDadosGrafico() {

    //     fetch(`/medidas/ultimas`, { cache: 'no-store' }).then(function (response) {
    //         if (response.ok) {
    //             response.json().then(function (resposta) {
    //                 console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
    //                 resposta.reverse();

    //                 plotarGrafico(resposta);

    //             });
    //         } else {
    //             console.error('Nenhum dado encontrado ou erro na API');
    //         }
    //     })
    //         .catch(function (error) {
    //             console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    //         });
    // } -->
    

